"use strict";var headerCenter=window.pageYOffset+document.querySelector("header").offsetHeight/2,lazyBackgrounds=document.querySelectorAll(".background"),lazyImages=document.querySelectorAll("img.lazy"),window_height=document.documentElement.clientHeight,window_width=document.documentElement.offsetWidth,windowScrollTop=window.pageYOffset,windowScrollBottom=windowScrollTop+window_height;function lazyLoadingBg(){lazyBackgrounds.length>0&&lazyBackgrounds.forEach(lazyBg=>{var lb_top=lazyBg.getBoundingClientRect().top+window.pageYOffset,lb_bot=lazyBg.offsetHeight+lb_top;if(lazyBg.dataset.color||lazyBg.dataset.image||lazyBg.dataset.image_mobil){var lb_color=lazyBg.dataset.color,lb_image=lazyBg.dataset.image,lb_image_mobil=lazyBg.dataset.image_mobil;windowScrollTop<lb_bot+500&&windowScrollBottom>lb_top-500&&(lb_color&&(lazyBg.style.backgroundColor=lb_color),lb_image&&(lazyBg.style.backgroundImage=lb_image_mobil&&window_width<=1023?"url('"+lb_image_mobil+"')":"url('"+lb_image+"')"),lazyBg.removeAttribute("data-color"),lazyBg.removeAttribute("data-image"),lazyBg.removeAttribute("data-image_mobil"))}})}function lazyLoadingImg(){lazyImages.length>0&&lazyImages.forEach(lazyImg=>{if(lazyImg.dataset.src){var lazyImg_top=lazyImg.getBoundingClientRect().top+window.pageYOffset,lazyImg_bot=lazyImg.offsetHeight+lazyImg_top,lazyImg_src=lazyImg.dataset.src;windowScrollTop<lazyImg_bot+500&&windowScrollBottom>lazyImg_top-500&&(lazyImg.setAttribute("src",lazyImg_src),lazyImg.removeAttribute("data-src"))}})}function animations(){jQuery(".anim").each((function(){var anim_box=jQuery(this),anim_box_top=anim_box.offset().top-200,anim_box_bottom=anim_box_top+anim_box.outerHeight()+200;windowScrollBottom>=anim_box_top&&jQuery(window).scrollTop()<=anim_box_bottom&&!anim_box.hasClass("animate")&&anim_box.addClass("animate")}))}function step(num){jQuery(".loadStep").addClass("start"),setTimeout((function(){jQuery(".screen").removeClass("active"),jQuery(".step--"+num).addClass("active")}),700),setTimeout((function(){jQuery("html:not(:animated),body:not(:animated)").animate({scrollTop:0},0)}),710),setTimeout((function(){jQuery(".loadStep").removeClass("start")}),1400)}function getRandomInt(max){return Math.floor(Math.random()*max)+1}$('input[name="phone"]').mask("+7 (999) 999-99-99"),lazyLoadingBg(),lazyLoadingImg(),setTimeout((function(){popup_close()}),300),setTimeout((function(){animations()}),600),jQuery(document).ready((function($){jQuery(window).on("orientationchange resize",(function(){window_height=document.documentElement.clientHeight,window_width=document.documentElement.offsetWidth})),jQuery(window).on("scroll",(function(){windowScrollTop=window.pageYOffset,windowScrollBottom=window.pageYOffset+window_height,headerCenter=window.pageYOffset+document.querySelector("header").offsetHeight/2,lazyLoadingBg(),lazyLoadingImg(),setTimeout((function(){animations()}),300)})),jQuery(".scrollto").on("click",(function(){var elementClick=jQuery(this).attr("data-target"),destination=jQuery("."+elementClick).offset().top;jQuery("html:not(:animated),body:not(:animated)").animate({scrollTop:destination},1e3)}))})),jQuery("input[type='radio'], input[type='checkbox']").on("change",(function(){var radio_check=jQuery(this).parents(".step").find("input:checked").length,hiddenBox=jQuery(this).parents(".step").find(".hiddenBox");radio_check>0?hiddenBox.addClass("hidden"):hiddenBox.removeClass("hidden")}));var present_number=getRandomInt("3");if(1==present_number)var present_value="Скульптурирование";else if(2==present_number)var present_value="Буккальный массаж";else if(3==present_number)var present_value="Сплит-массаж";jQuery(".presentWrapp--"+present_number).addClass("active"),jQuery(".present_value").val(present_value);